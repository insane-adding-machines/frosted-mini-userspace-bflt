# This file is automatically generated.
# DO NOT EDIT!
# ============
# To add an application, use apps.mk, then re-run gen_makefile.py




-include ../kconfig/.config
CC?=arm-frosted-eabi-cc
APPS-$(APP_CAT)+=cat
CFLAGS-$(APP_CAT)+=-DAPP_CAT_STANDALONE
CFLAGS-ICEBOX-$(APP_CAT)+=-DAPP_CAT_MODULE

APPS-$(APP_CUT)+=cut
CFLAGS-$(APP_CUT)+=-DAPP_CUT_STANDALONE
CFLAGS-ICEBOX-$(APP_CUT)+=-DAPP_CUT_MODULE

APPS-$(APP_DATE)+=date
CFLAGS-$(APP_DATE)+=-DAPP_DATE_STANDALONE
CFLAGS-ICEBOX-$(APP_DATE)+=-DAPP_DATE_MODULE

APPS-$(APP_DIRNAME)+=dirname
CFLAGS-$(APP_DIRNAME)+=-DAPP_DIRNAME_STANDALONE
CFLAGS-ICEBOX-$(APP_DIRNAME)+=-DAPP_DIRNAME_MODULE

APPS-$(APP_ECHO)+=echo
CFLAGS-$(APP_ECHO)+=-DAPP_ECHO_STANDALONE
CFLAGS-ICEBOX-$(APP_ECHO)+=-DAPP_ECHO_MODULE

APPS-$(APP_FALSE)+=false
CFLAGS-$(APP_FALSE)+=-DAPP_FALSE_STANDALONE
CFLAGS-ICEBOX-$(APP_FALSE)+=-DAPP_FALSE_MODULE

APPS-$(APP_FILE)+=file
CFLAGS-$(APP_FILE)+=-DAPP_FILE_STANDALONE
CFLAGS-ICEBOX-$(APP_FILE)+=-DAPP_FILE_MODULE

APPS-$(APP_FRESH)+=fresh
CFLAGS-$(APP_FRESH)+=-DAPP_FRESH_STANDALONE
CFLAGS-ICEBOX-$(APP_FRESH)+=-DAPP_FRESH_MODULE

APPS-$(APP_GDBSERVER)+=gdbserver
CFLAGS-$(APP_GDBSERVER)+=-DAPP_GDBSERVER_STANDALONE
CFLAGS-ICEBOX-$(APP_GDBSERVER)+=-DAPP_GDBSERVER_MODULE

APPS-$(APP_GREP)+=grep
CFLAGS-$(APP_GREP)+=-DAPP_GREP_STANDALONE
CFLAGS-ICEBOX-$(APP_GREP)+=-DAPP_GREP_MODULE

APPS-$(APP_HEAD)+=head
CFLAGS-$(APP_HEAD)+=-DAPP_HEAD_STANDALONE
CFLAGS-ICEBOX-$(APP_HEAD)+=-DAPP_HEAD_MODULE

APPS-$(APP_IDLING)+=idling
CFLAGS-$(APP_IDLING)+=-DAPP_IDLING_STANDALONE
CFLAGS-ICEBOX-$(APP_IDLING)+=-DAPP_IDLING_MODULE

APPS-$(APP_INIT)+=init
CFLAGS-$(APP_INIT)+=-DAPP_INIT_STANDALONE
CFLAGS-ICEBOX-$(APP_INIT)+=-DAPP_INIT_MODULE

APPS-$(APP_KILL)+=kill
CFLAGS-$(APP_KILL)+=-DAPP_KILL_STANDALONE
CFLAGS-ICEBOX-$(APP_KILL)+=-DAPP_KILL_MODULE

APPS-$(APP_KILO)+=kilo
CFLAGS-$(APP_KILO)+=-DAPP_KILO_STANDALONE
CFLAGS-ICEBOX-$(APP_KILO)+=-DAPP_KILO_MODULE

APPS-$(APP_KLOGD)+=klogd
CFLAGS-$(APP_KLOGD)+=-DAPP_KLOGD_STANDALONE
CFLAGS-ICEBOX-$(APP_KLOGD)+=-DAPP_KLOGD_MODULE

APPS-$(APP_LN)+=ln
CFLAGS-$(APP_LN)+=-DAPP_LN_STANDALONE
CFLAGS-ICEBOX-$(APP_LN)+=-DAPP_LN_MODULE

APPS-$(APP_LS)+=ls
CFLAGS-$(APP_LS)+=-DAPP_LS_STANDALONE
CFLAGS-ICEBOX-$(APP_LS)+=-DAPP_LS_MODULE

APPS-$(APP_MKDIR)+=mkdir
CFLAGS-$(APP_MKDIR)+=-DAPP_MKDIR_STANDALONE
CFLAGS-ICEBOX-$(APP_MKDIR)+=-DAPP_MKDIR_MODULE

APPS-$(APP_MOUNT)+=mount
CFLAGS-$(APP_MOUNT)+=-DAPP_MOUNT_STANDALONE
CFLAGS-ICEBOX-$(APP_MOUNT)+=-DAPP_MOUNT_MODULE

APPS-$(APP_PLAY)+=play
CFLAGS-$(APP_PLAY)+=-DAPP_PLAY_STANDALONE
CFLAGS-ICEBOX-$(APP_PLAY)+=-DAPP_PLAY_MODULE

APPS-$(APP_POWERCTL)+=powerctl
CFLAGS-$(APP_POWERCTL)+=-DAPP_POWERCTL_STANDALONE
CFLAGS-ICEBOX-$(APP_POWERCTL)+=-DAPP_POWERCTL_MODULE

APPS-$(APP_PRODCONS)+=prodcons
CFLAGS-$(APP_PRODCONS)+=-DAPP_PRODCONS_STANDALONE
CFLAGS-ICEBOX-$(APP_PRODCONS)+=-DAPP_PRODCONS_MODULE

APPS-$(APP_PS)+=ps
CFLAGS-$(APP_PS)+=-DAPP_PS_STANDALONE
CFLAGS-ICEBOX-$(APP_PS)+=-DAPP_PS_MODULE

APPS-$(APP_REBOOT)+=reboot
CFLAGS-$(APP_REBOOT)+=-DAPP_REBOOT_STANDALONE
CFLAGS-ICEBOX-$(APP_REBOOT)+=-DAPP_REBOOT_MODULE

APPS-$(APP_RENICE)+=renice
CFLAGS-$(APP_RENICE)+=-DAPP_RENICE_STANDALONE
CFLAGS-ICEBOX-$(APP_RENICE)+=-DAPP_RENICE_MODULE

APPS-$(APP_RM)+=rm
CFLAGS-$(APP_RM)+=-DAPP_RM_STANDALONE
CFLAGS-ICEBOX-$(APP_RM)+=-DAPP_RM_MODULE

APPS-$(APP_SLEEP)+=sleep
CFLAGS-$(APP_SLEEP)+=-DAPP_SLEEP_STANDALONE
CFLAGS-ICEBOX-$(APP_SLEEP)+=-DAPP_SLEEP_MODULE

APPS-$(APP_TAIL)+=tail
CFLAGS-$(APP_TAIL)+=-DAPP_TAIL_STANDALONE
CFLAGS-ICEBOX-$(APP_TAIL)+=-DAPP_TAIL_MODULE

APPS-$(APP_TEE)+=tee
CFLAGS-$(APP_TEE)+=-DAPP_TEE_STANDALONE
CFLAGS-ICEBOX-$(APP_TEE)+=-DAPP_TEE_MODULE

APPS-$(APP_TOUCH)+=touch
CFLAGS-$(APP_TOUCH)+=-DAPP_TOUCH_STANDALONE
CFLAGS-ICEBOX-$(APP_TOUCH)+=-DAPP_TOUCH_MODULE

APPS-$(APP_TRUE)+=true
CFLAGS-$(APP_TRUE)+=-DAPP_TRUE_STANDALONE
CFLAGS-ICEBOX-$(APP_TRUE)+=-DAPP_TRUE_MODULE

APPS-$(APP_UPTIME)+=uptime
CFLAGS-$(APP_UPTIME)+=-DAPP_UPTIME_STANDALONE
CFLAGS-ICEBOX-$(APP_UPTIME)+=-DAPP_UPTIME_MODULE

APPS-$(APP_WC)+=wc
CFLAGS-$(APP_WC)+=-DAPP_WC_STANDALONE
CFLAGS-ICEBOX-$(APP_WC)+=-DAPP_WC_MODULE

APPS-$(APP_YES)+=yes
CFLAGS-$(APP_YES)+=-DAPP_YES_STANDALONE
CFLAGS-ICEBOX-$(APP_YES)+=-DAPP_YES_MODULE

BIN:=$(patsubst %,../out/%,$(APPS-y))
LNK:=$(patsubst %,../lnk/%,$(APPS-m))
OBJ:=$(patsubst %,%.o,$(APPS-y))
MOD:=$(patsubst %,ice/%.o,$(APPS-m))
ICE-$(ICEBOX)=../out/icebox

all: $(BIN) $(MOD) $(LNK) $(ICE-y) $(LNK)

../out/icebox: icebox.o $(MOD)
	arm-frosted-eabi-gcc -o $@ $^ $(CFLAGS) $(CFLAGS-ICEBOX-m) $(LDFLAGS)
icebox.o: icebox.c
	arm-frosted-eabi-gcc -c -o $@ $^ $(CFLAGS) $(CFLAGS-ICEBOX-m)

../out/gdbserver:  gdb-server.o gdb-remote.o
	@arm-frosted-eabi-gcc -o $@ $^ $(CFLAGS) $(CFLAGS-y) $(LDFLAGS)



../lnk/%: ../out/icebox
	ln -s $^ $@
ice/%.o: %.c
	mkdir -p ice
	arm-frosted-eabi-gcc -c -o $@ $^ $(CFLAGS) $(CFLAGS-ICEBOX-m)

%.o: %.c
	arm-frosted-eabi-gcc -c -o $@ $^ $(CFLAGS) $(CFLAGS-y)

../out/%: %.o
	arm-frosted-eabi-gcc -o $@ $^ $(CFLAGS) $(CFLAGS-y) $(LDFLAGS) -Wl,-Map=$@.Map

clean:
	@rm -f icebox.o
	@rm -rf out
	@rm -f $(OBJ)
	@rm -rf ice
